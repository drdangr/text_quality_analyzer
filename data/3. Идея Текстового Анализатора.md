[#лелик_и_болек](https://www.facebook.com/hashtag/%D0%BB%D0%B5%D0%BB%D0%B8%D0%BA_%D0%B8_%D0%B1%D0%BE%D0%BB%D0%B5%D0%BA?__eep__=6&__cft__[0]=AZXm4p_NtQs8xmc2DWHslzQHQ0sVXxJ9_mNxS1MB-5Bfi_CU8oGsZtOyIur2GKq4eLWc5HfuGbdu-EzD0JhnIm9c7IpgVX1A_URG93z0pk8tHJRXe7Bm_-HIGacK_lPO9DZ41YYSJ5zpgH5e8Uw7yIpA9JtKsYhjMaUDkPOSvCuzZw&__tn__=*NK-R) №3

~9 минут чтения

сигнал/шум 67/32

индекс FK/LIX: около 10.3, соответствует уровню старших классов школы

.. вот просил же: не кидайте в меня тапком, Взрослые Мальчики.

Но нет.

пришел Виталик и зарядил.

Читать, говорит интересно, но от твоего петросянствования становится тяжело. 50/50 соотношение у тебя, говорит, Сигнал/Шум, а это много.

Ну а я что, я же человек сознательный.

Надо, думаю, с этим что-то делать:

- Эй вы, Двое Из Ларца, айда пользу будем учинять и заодно технический анализ текстов.

Соотношение сигнал/шум в соц сетях вообще интереснейшая вещь, это я еще из краткого курса социальной инженерии помню: для поста одной и той же длины, повышаешь Сигнал - лоботрясы и скроллеры разбегаются, остаются только те, кто умеет "жевать рельсу дволь" и читать тугие тексты.

делаешь пожиже, повышаешь шум - набегают балбесы. Добавляешь при этом контроверсивности и остроты - жди срача в коментах.

Вся эта братия, которая профессионально хороводит ботофермами ювелирно этим всем жонглирует - выше-ниже, горячее-прохладнее. Набежало дураков слишком много - умные ушли, набежало много умников - дураки разбежались, а следом за ними и умники разошлись от скуки.

Работают, в общем, люди.

В общем я решил: а хули нам, кабанам (это я этих двоих в основном имею в виду, Лелика с Боликом) почему бы нам не сделать умную линейку для текстов?

Сказано - сделано.

Благо, я уже немного научился с ними бороться.

Что мы имеем, по итогу в нашей семантической линейке:

1. комплексная метрика сложности.

использовал два довольно простых метода вычисления FK/LIX - простенький метод оценки доступности текста на на базе длины слов и количества длинных слов (>6 символов) на предложение.

FK (он же Flesh-Kincaid) использовался, кажется, еще с 40х в Америке и его показатель обычно упрощался до "подходит для учащихся младших классов" или "старших классов", или "подходит для студентов и преподавателей", ну и так далее.

Там банально сделано предположения, что длинные слова трудные, большие предложения - сложные.

Ничего такого, но беременные женщины и студенты, переболевшие ящуром, одобрительно кивают и радуются.

Его, между прочим, там у них официально приняли и все им меряют - от государственных документов - до учебников.

Даже U.S. Navy официально использует его для оценки читаемости мануалов. И в геймдеве,говорят, им вроде диалоги у NPC замеряют, чтобы бородатые дети у плойки не уставали читать.

С русским, правда, пришлось повозится, у нас немного по-другому все с длинными и короткими словами. Выбросил, по итогу FK, оставил LIX там формула умнее, лучше работает. Про нее не буду даже начинать. То же самое, но вид сбоку, главное, что работает.

И еще на всякий случай, чтоб совсем тупо не было, прикрутил туда еще один метод - SMOG, с помощью него вычисляется количество сложных слов в предложении.

Этот уважаемые люди используют - медики там, академики разных акдемий.

Там вообще все просто - много умных слов навалил, как какой-нибудь эммм... Дацюк - дикскурс! ресентимент! промискуите.. (э-э.. ой. это немного не то, да?) - индекс сразу выше полез, все грустные сидят, переключать ютубы собираются.

Стал кричать: "та потому что ДЕБИЛЫ" - всё. Нормально всё, индекс упал, все довольные сидят у экранов.

ну и взял по ним средневзвешенное, чтоб и к умным и к красивым, ага.

ффух.

так, это было раз: индекс сложности.

ты как там, дорогой, держишься еще?..

хорошо. дальше легче будет.

наверное.

2. Теперь то. за что в меня тапок прилел от дядя Веталя:

сигнал/шум. То есть -- что в тексте по делу, а что так, чтобы глаза отдохнули.

Лелик меня вначале далекими кругами водить стал, коеэффициенты давай разные умные предлагать..

Но мы то с вами ребята уже подкованные.

Мамкины датасайенсеры, ага.

Взяли мы наш текст, порезанный на предложения, взяли эмбединг каждого предложения и шо? правильно: сравнили с эмбедингом заявленной темы. Всё.

Берем разницу косинусов - и смотрим.

Попал рядом - сигнал. Далеко - шум.

Главное хорошую модель взять для подсчета эмбедингов, развесистую.

Лелик, натурально, сразу в бутылку полез, давай говорит, я тебе обобщу метрику еще несколькми совокупными и специфически коеффициентами, давай считать семантическую свзянность, грамматические интенции..

Ну валяй, говорю. Поорудуй там у себя в глубине, мы же уже знаем, что ты можешь, не прикидывайся. Как наваялешь - приноси сравнительную табличку.

..ушел думать.

пыхтел, сопел, потерялся пару раз, но осилил по итогу, врать не буду.

Вот, говорит, комплексный показатель, айда сравнивать.

Посмотрели мы с ним - а ты разницы нет практически.

Ну подкрасилось пару абзачев ярче. Но картина в целом не меняется, как было, так примерно и осталось.

В общем, я забил это в документацию писать.

(Лелику только не говорите - обидется)

О! Вот сейчас будет важный инсайт, он же - лирическое отступление: я уже об это упомянул, но надо закрепить. Поскольку у нас с ними тройничок, а иногда еще и курсоры бывают со своими залётными моделями, я придумал все через документы делать.

Это я вам скажу, старая, но очень полезная истина: без ТЗ - все ХЗ.

Я Лелику, как больше галюционирующему товарищу, разрешаю общий смысл придумывать, и сочинять каркас документов, в которых он пишет (с моей подачи) "ЧТО".

Потом Болика на этот каркас натравливаю и говорю: давай, дорогой, пиши "КАК".

Он прописывает, я это несу это Лелику, обратно, на совместное мнешь-трешь. Из этого обычно в процессе вылезают идеи всякие полезные, мы их туда же в документ запихиваем.

Потом - обратно.

Возвращаюсь к Болику и он методично все до последней запятой мне расписывает.

Иного приходится повторить, но принцип вы поняли.

Главное - просить Болека завать мне и Лелику вопросы. После них обычно появляются идеи, от которых Лелик только что целоваться ко мне не лезет сквозь экран.

И потом, когда все более менее ок - идешь в курсор, обрисовываешь в целом идею и говоришь: а за подробностями иди в документацию."

И все.

Все начинает работать.

Кто бы мог подумать, ага.

3. Семантика. Это для души.

Это заготовка на будущее.

Развесили мы, значит, до этого сигнал/шум на цвет фона у абзаца, сложность - на цвет его текста.. Но было как-то неполно это, в смысле анализа, скучно и слишком банально.

Ну да, сразу видно, где навалил много смыслов со сложными словами, где напетросянил.. но почему там пусто, а тут - густо и надо ли это править - не понятно. Есть, например, место, где ни смыслов, ни сложности, но шуточка какая-то дурацкая сидит. Или смена направления, или лирическое отступление, чтобы мозг не поплавился. Ну и пусть себе будет, будет повод в меня тамком кинуть.

Ну а что.

Но из первых двух параметров это не видно, а читать по пятому разу уже сил нет.

Поэтому мы с Леликом придумали еще метрику.

Даже две, но на четвертую уже сегодня сил нет, и так всю ночь сидел. Потом, если сделаю - расскажу, она еще фигуристее.

А эта, третья - про семантический анализ.

Блокнот наш предложения оценивает в смысле классификации смыслов: он ставит метку, на что этот абзац похож:

- раскрытие темы

- пояснение на примере

- лирическое отступление

- ключевой тезис

- шум

- метафора / аналогия

- юмор / ирония / сарказм

- связующий переход

- смена темы

- противопоставление / контраст.

Это я отчасти придумал, отчасти подсмотрел в методичке по оценке риторики. Тоже какая-то американская аббревиатура страшная, но я забыл уже, а идти в Лелика смотреть, конечно, лень.

Вот тут мы рубились не на шутку пол ночи.

Оказалось, что ни одна локально запускаемая библиоиека с языковой моделью у пор не понимает шутки.

То есть как дело по началу было:

Лелик такой говорит: о, знаю, это у тебя будет вычисляться Zero-shot методом. То есть, это такие специальные нейросети, натренированые, ты им подсовываешь смысл какой-то и гипотезу, на что это похоже, а они отградывают - оно или не оно.

Как говорила моя бабушка: "похожа свиня на коня, тiко хвiст не такий" - вот это оно. Zero-shot называется.

А бабуля так и не узнала об этом, царствие ей небесное.

Однако, как говорят у нас, в высоких эмпиреях, - авотхуй. Метафоры, там, расрытие темы, аналогии, тезизы-шмезисы - все угадывает, а юмор никак. Не маркирует, хоть ты тресни.

Тут я бы, конечно, в себе засомневался, чувство юмора у меня, мягко говоря, не безупречное.

Но у меня же есть Лелик.

А ему прикрутили эмоциональный интеллект.

И он довольно будро отстреливает, где ты намеревался пошутить.

И еще его можно в попросить уйти в себя. и там сделать эталонную табличку, с которой можно дальше просить курсорыча сверять результаты тестовых прогонов и докладывать разницу. (это вам еще в копилочку набрасываю, как подтянуть локальную слабоумную гаврюшу к здоровенному и умному ии-Лелику)

И он прям четко шпарит и безошибочно, мерзавец, маркирует шутки юмора.

В общем, бились мы бились, и я сдался.

Признаюсь, разрушил стройную концепцию "все свое ношу с собой" - подключил Лелика чрез API, и он через него моему блокноту на ушко нашептывает, где - что.

вооот.

в общем-то на этом конец, кто дослушал - молодец.

скриншот работы блокнотика с предыдущим выпуском - прилагаю.

за дизайн не бейте, у меня час назад это только заработало, в другой раз дизайн будет.

спасибо за внимание.