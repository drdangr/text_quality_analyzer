# –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã —á–∞–Ω–∫–æ–≤

## –û–±–∑–æ—Ä

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ —á–∞–Ω–∫–æ–≤ –∫–∞–∫ "—É–∫–∞–∑–∞—Ç–µ–ª–µ–π" –Ω–∞ —á–∞—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ UUID. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –ø–∞–Ω–µ–ª—è–º–∏, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –º–µ—Ç—Ä–∏–∫.

## –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 1. –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã
- **–û–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ —Ç–µ–∫—Å—Ç–∞**: `DocumentState.text` - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
- **–ß–∞–Ω–∫–∏ –∫–∞–∫ —É–∫–∞–∑–∞—Ç–µ–ª–∏**: –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–µ–∫—Å—Ç, —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏
- **–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã**: UUID —á–∞–Ω–∫–æ–≤ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

### 2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **Frontend**: –±—ã—Å—Ç—Ä—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—á–∞–Ω–∫–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π)
- **Backend**: –º–µ–¥–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∞–Ω–∞–ª–∏–∑ –º–µ—Ç—Ä–∏–∫)
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 3. –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**: –Ω–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –∞–±–∑–∞—Ü–µ–≤
- **–ü—Ä–æ—Å—Ç–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –≤—Å–µ –ø–∞–Ω–µ–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–¥–Ω–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å**: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –º–µ—Ç—Ä–∏–∫

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### DocumentState
```typescript
interface DocumentState {
  text: string;  // –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Ç–µ–∫—Å—Ç–∞
  chunks: Chunk[];
  version: number;  // –î–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
}

interface Chunk {
  id: string;        // UUID - –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
  start: number;     // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ —Ç–µ–∫—Å—Ç–µ (–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)
  end: number;       // –ö–æ–Ω–µ—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ —Ç–µ–∫—Å—Ç–µ (–∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)
  metrics: ChunkMetrics;
}

interface ChunkMetrics {
  // –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–±—ã—Å—Ç—Ä—ã–µ)
  signal_strength?: number;
  complexity?: number;
  semantic_function?: string;
  
  // –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–º–µ–¥–ª–µ–Ω–Ω—ã–µ)
  context_relevance?: number;
  global_coherence?: number;
  
  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  isStale?: boolean;        // –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å
  lastUpdated?: number;     // Timestamp
  version?: number;         // –í–µ—Ä—Å–∏—è –ø—Ä–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
}
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞–Ω–∫–∞–º–∏

### –°–æ–∑–¥–∞–Ω–∏–µ —á–∞–Ω–∫–æ–≤
1. **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞**: —Ä–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é `\n\n+`
2. **–ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ `\n\n`
3. **–ì—Ä–∞–Ω–∏—Ü—ã —á–∞–Ω–∫–æ–≤**: —Å—Ç–∞–≤—è—Ç—Å—è –ü–û–°–õ–ï –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ `\n` –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π
–ü—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞:
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —á–∞–Ω–∫–∏
2. –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏–∏ –≤—Å–µ—Ö —á–∞–Ω–∫–æ–≤ –ø–æ—Å–ª–µ —Ç–æ—á–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. –°–æ–∑–¥–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å —á–∞–Ω–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. –ü–æ–º–µ—Ç–∏—Ç—å –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —á–∞–Ω–∫–∏ –∫–∞–∫ `isStale`

### –ê–ª–≥–æ—Ä–∏—Ç–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π
```typescript
function updateChunkPositions(
  chunks: Chunk[], 
  changeStart: number, 
  changeEnd: number, 
  newText: string
): Chunk[] {
  const delta = newText.length - (changeEnd - changeStart);
  
  return chunks.map(chunk => {
    if (chunk.end <= changeStart) {
      // –ß–∞–Ω–∫ –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è - –Ω–µ —Ç—Ä–æ–≥–∞–µ–º
      return chunk;
    } else if (chunk.start >= changeEnd) {
      // –ß–∞–Ω–∫ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è - —Å–¥–≤–∏–≥–∞–µ–º
      return {
        ...chunk,
        start: chunk.start + delta,
        end: chunk.end + delta
      };
    } else {
      // –ß–∞–Ω–∫ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º - –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º
      return recalculateChunk(chunk, changeStart, changeEnd, newText);
    }
  });
}
```

## –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∞–±–∑–∞—Ü–µ–≤

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∞–±–∑–∞—Ü–µ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —á–∞–Ω–∫–æ–≤:

1. **–ü—Ä–∏ drop**: –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —Ç–∞–±–ª–∏—Ü—É —á–∞–Ω–∫–æ–≤ –æ—Ç —Ç–æ—á–∫–∏ –≤—Å—Ç–∞–≤–∫–∏ –¥–æ –∫–æ–Ω—Ü–∞
2. **–ò–∑–º–µ–Ω—è–µ–º**: ID –∏ –≥—Ä–∞–Ω–∏—Ü—ã –ø–µ—Ä–µ—Ç–∞—â–µ–Ω–Ω–æ–≥–æ –∞–±–∑–∞—Ü–∞
3. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ–º**: ID –∏ –≥—Ä–∞–Ω–∏—Ü—ã –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —á–∞–Ω–∫–æ–≤
4. **–û–±–Ω–æ–≤–ª—è–µ–º**: –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ `DocumentState.text`
5. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º**: –≤—Å–µ –ø–∞–Ω–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
```typescript
function moveChunk(
  state: DocumentState,
  sourceChunkId: string,
  targetPosition: number
): DocumentState {
  // 1. –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–µ–∫—Å—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º–æ–≥–æ —á–∞–Ω–∫–∞
  const sourceChunk = state.chunks.find(c => c.id === sourceChunkId);
  const chunkText = state.text.slice(sourceChunk.start, sourceChunk.end);
  
  // 2. –£–¥–∞–ª—è–µ–º —á–∞–Ω–∫ –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
  const textWithoutSource = 
    state.text.slice(0, sourceChunk.start) + 
    state.text.slice(sourceChunk.end);
  
  // 3. –í—Å—Ç–∞–≤–ª—è–µ–º –≤ –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é
  const newText = 
    textWithoutSource.slice(0, targetPosition) + 
    chunkText + 
    textWithoutSource.slice(targetPosition);
  
  // 4. –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—Å–µ —á–∞–Ω–∫–∏
  const newChunks = recalculateAllChunks(newText);
  
  return {
    text: newText,
    chunks: newChunks,
    version: state.version + 1
  };
}
```

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫

### –¢–∏–ø—ã –º–µ—Ç—Ä–∏–∫
1. **–õ–æ–∫–∞–ª—å–Ω—ã–µ** (–±—ã—Å—Ç—Ä—ã–µ): –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
   - signal_strength
   - complexity
   - semantic_function

2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–µ** (–º–µ–¥–ª–µ–Ω–Ω—ã–µ): –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–ª–æ–≤–∞
   - context_relevance
   - global_coherence

### –ë–∞—Ç—á–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤
```typescript
interface MetricsUpdateQueue {
  localUpdates: Set<string>;      // Chunk IDs –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
  contextualUpdates: Set<string>; // Chunk IDs –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
  debounceTimer?: number;
}
```

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **isStale**: –º–µ—Ç—Ä–∏–∫–∏ —Ç—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **isUpdating**: –º–µ—Ç—Ä–∏–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç
- **lastUpdated**: timestamp –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Monaco Editor

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Monaco
1. **–¢–æ—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π**: `onDidChangeContent` —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
2. **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä**: –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞, –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤
4. **API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –±–µ–∑ —Å–æ–±—ã—Ç–∏–π

### –°–æ–±—ã—Ç–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
```typescript
editor.onDidChangeContent((e) => {
  e.changes.forEach(change => {
    updateChunksForChange({
      start: change.rangeOffset,
      end: change.rangeOffset + change.rangeLength,
      newText: change.text
    });
  });
});
```

## Backend API

### –ù–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
```python
# –ê–Ω–∞–ª–∏–∑ –º–µ—Ç—Ä–∏–∫ –¥–ª—è —á–∞–Ω–∫–æ–≤
POST /api/analyze/chunks
{
  "chunks": [
    {
      "id": "uuid",
      "text": "—Ç–µ–∫—Å—Ç —á–∞–Ω–∫–∞",
      "context": "–æ–∫—Ä—É–∂–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç"
    }
  ],
  "analysis_type": "local" | "contextual" | "full"
}

# –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
GET /api/chunks/{chunk_id}/metrics

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
PUT /api/chunks/{chunk_id}/metrics
{
  "signal_strength": 0.8,
  "complexity": 0.6,
  "version": 123
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö
- **–£–¥–∞–ª–µ–Ω–∏–µ**: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ API –∞–Ω–∞–ª–∏–∑–∞
- **–§–æ–∫—É—Å**: —Ç–æ–ª—å–∫–æ –Ω–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫
- **–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

## –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–∞–Ω–µ–ª–µ–π

### –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```typescript
// Zustand store
interface AppState {
  document: DocumentState;
  ui: {
    activePanel: string;
    selectedChunks: string[];
    metricsQueue: MetricsUpdateQueue;
  };
  
  // Actions
  updateText: (newText: string, changeInfo: ChangeInfo) => void;
  moveChunk: (sourceId: string, targetPosition: number) => void;
  updateMetrics: (chunkId: string, metrics: Partial<ChunkMetrics>) => void;
}
```

### –†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–∞–Ω–µ–ª–µ–π
1. **TextEditor**: –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ `document.text`
2. **CardView**: –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ `document.chunks`
3. **SemanticMap**: –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ `document.chunks` —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏

## –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ –ó–ê–í–ï–†–®–ï–ù
- [x] 1.1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (DocumentState, Chunk, ChunkMetrics)
- [x] 1.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Zustand store —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- [x] 1.3. –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–∞–Ω–∫–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π)
- [x] 1.4. –¢–µ—Å—Ç—ã –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π (—Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω)
- [x] 1.5. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∏–∫–µ —á–∞–Ω–∫–æ–≤** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
- [x] 1.6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
- [x] 1.7. **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ `src/types/chunks.ts`
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —É—Ç–∏–ª–∏—Ç—ã –≤ `src/utils/chunkUtils.ts`
- ‚úÖ –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π store `src/store/documentStore.ts`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `src/components/TestChunks.tsx`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: uuid, @types/uuid, zustand
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–æ—É—Ç `/test-chunks` –∏–ª–∏ `?test=chunks`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —á–∞–Ω–∫–æ–≤ –ø–æ –ø–æ–∑–∏—Ü–∏–∏ (–≤–º–µ—Å—Ç–æ UUID)
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `shouldCreateNewChunks` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∞–Ω–∫–æ–≤**
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `updateChunkPositions` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–Ω—Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞**
- ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏: —Å–æ–∑–¥–∞–Ω–∏–µ, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ**
- ‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫**
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø–∞–Ω–µ–ª—è–º–∏**

**–î–æ—Å—Ç—É–ø –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:** http://localhost:5173/?test=chunks

**üéØ –†–ï–ó–£–õ–¨–¢–ê–¢:** –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–∞–Ω–∫–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞. –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —ç—Ç–∞–ø–∞.

### –≠—Ç–∞–ø 2: Monaco Editor –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚úÖ –ó–ê–í–ï–†–®–ï–ù
- [x] 2.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Monaco Editor
- [x] 2.2. –ó–∞–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –Ω–∞ Monaco
- [x] 2.3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å —Å–∏—Å—Ç–µ–º–æ–π —á–∞–Ω–∫–æ–≤
- [x] 2.4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ç–µ–∫—Å—Ç–∞—Ö
- [x] 2.5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ ChangeInfo** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
- [x] 2.6. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–∞–∫–µ—Ç—ã: @monaco-editor/react, monaco-editor
- ‚úÖ –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç MonacoEditor —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å–∏—Å—Ç–µ–º—ã —á–∞–Ω–∫–æ–≤  
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω textarea –Ω–∞ Monaco Editor –≤ —Ç–µ—Å—Ç–æ–≤–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç–æ—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è onDidChangeModelContent
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ChangeInfo –¥–ª—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏: –≤—Å—Ç–∞–≤–∫–∞ –≤ –∫–æ–Ω—Ü–µ, —Å–µ—Ä–µ–¥–∏–Ω–µ, —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞–Ω–∫–æ–≤**
- ‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–∞–¥ textarea: —Ç–æ—á–Ω–æ—Å—Ç—å, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ –∏ –∞–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**

**üéØ –†–ï–ó–£–õ–¨–¢–ê–¢:** Monaco Editor –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω—ã–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —á–∞–Ω–∫–æ–≤. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ç–æ—á–Ω–æ—Å—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω—ã.

### –≠—Ç–∞–ø 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π ‚úÖ –ó–ê–í–ï–†–®–ï–ù
- [x] 3.1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ CardView –ø–æ–¥ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- [x] 3.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ SemanticMap –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–∞–Ω–∫–∞–º–∏  
- [x] 3.3. –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –ª–æ–≥–∏–∫–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –∞–±–∑–∞—Ü–µ–≤
- [x] 3.4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –ø–∞–Ω–µ–ª—è–º–∏
- [x] 3.5. **–ü–æ–ª–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ TextEditorPanel —Å Monaco Editor** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
- [x] 3.6. **–°–æ–∑–¥–∞–Ω–∏–µ CardDeckPanelV2 —Å –Ω–∞—Ç–∏–≤–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —á–∞–Ω–∫–æ–≤** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
- [x] 3.7. **–£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ–≥–æ legacy –∫–æ–¥–∞ (migrationAdapter, V1 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
- [x] 3.8. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö edge cases (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —á–∞–Ω–∫–æ–≤)** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
- [x] 3.9. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –≥—Ä–∞–Ω–∏—Ü —á–∞–Ω–∫–æ–≤** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
- [x] 3.10. **–î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
- [x] 3.11. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —É—Ç—Ä–∞—á–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (drag-and-drop, —Å–ª–∏—è–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
- [x] 3.12. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å Monaco Editor (uncaught exceptions)** ‚≠ê –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω TextEditorPanelV2.tsx (588 —Å—Ç—Ä–æ–∫) —Å –Ω–∞—Ç–∏–≤–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —á–∞–Ω–∫–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω CardDeckPanelV2.tsx (500+ —Å—Ç—Ä–æ–∫) —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º: drag-and-drop, heat map, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω SemanticMapPanel –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å V2 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω—ã: migrationAdapter.ts, TextEditorPanel/index.tsx (V1), CardDeckPanel/index.tsx (V1), TestMigration.tsx
- ‚úÖ –£–±—Ä–∞–Ω—ã virtualParagraphs –∏–∑ appStore.ts
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω App.tsx –¥–ª—è —á–∏—Å—Ç–æ–π V2 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (—É–±—Ä–∞–Ω—ã –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ V1/V2)
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —á–∞–Ω–∫–∏—Ä–æ–≤–∞–Ω–∏—è: –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–≤–æ–π–Ω—ã–º –ø–µ—Ä–µ–≤–æ–¥–∞–º —Å—Ç—Ä–æ–∫**
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏: –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —á–∞–Ω–∫–æ–≤**
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –≥—Ä–∞–Ω–∏—Ü —á–∞–Ω–∫–æ–≤ –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö**
- ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏: —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ**
- ‚úÖ **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ 6 —É—Ç—Ä–∞—á–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:**
  - –ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ (‚öôÔ∏è) —Å —Ü–≤–µ—Ç–æ–≤—ã–º–∏ —Å—Ö–µ–º–∞–º–∏ –∏ —à—Ä–∏—Ñ—Ç–∞–º–∏
  - –ö–Ω–æ–ø–∫–∞ —Å–ª–∏—è–Ω–∏—è (+) —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º —á–∞–Ω–∫–æ–≤
  - Heat Map (üó∫Ô∏è) —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∫—É–±–∏–∫–∞–º–∏ –∏ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–æ–º
  - –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (√ó) –∫–∞—Ä—Ç–æ—á–µ–∫
  - Drag-and-drop —Å —Ä–µ–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Ç–µ–∫—Å—Ç–∞ —á–∞–Ω–∫–æ–≤
  - –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã Monaco Editor (automaticLayout, uncaught exceptions)**
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∞–±–∏–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ω–æ–≤—ã–º–∏ backend —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏**

**üéØ –†–ï–ó–£–õ–¨–¢–ê–¢:** –í—Å–µ –ø–∞–Ω–µ–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω—ã –ø–æ–¥ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —á–∞–Ω–∫–æ–≤. Legacy –∫–æ–¥ —É–¥–∞–ª–µ–Ω. –í—Å—è —É—Ç—Ä–∞—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. Frontend –≤–∏–∑—É–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–µ–±–æ–ª—å—à–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ω–æ–≤—ã–º–∏ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏.

### –≠—Ç–∞–ø 4: Backend —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ - –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö ‚úÖ –ß–ê–°–¢–ò–ß–ù–û –ó–ê–í–ï–†–®–ï–ù

**–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
- **–¢–µ–∫—Å—Ç "–∂–∏–≤–µ—Ç" –≤–æ frontend**: backend –±–æ–ª—å—à–µ –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞
- **–õ–æ–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**: –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç —á–∞–Ω–∫–∞ + —Ç–µ–º–∞ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏ —á–∞–Ω–∫–∞
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**: –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç + —Ä–∞–∑–±–∏–≤–∫–∞ –Ω–∞ —á–∞–Ω–∫–∏ ‚Üí –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —á–∞–Ω–∫–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
- **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑**: –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å = –æ–¥–∏–Ω —á–∞–Ω–∫ (–≤–º–µ—Å—Ç–æ –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞–±–∑–∞—Ü–µ–≤)
- **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: frontend —Ä–µ—à–∞–µ—Ç –∫–∞–∫–∏–µ —á–∞–Ω–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ –∞–Ω–∞–ª–∏–∑

#### –ü–æ–¥—ç—Ç–∞–ø 4.1: –ù–æ–≤—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ ‚úÖ –ó–ê–í–ï–†–®–ï–ù 30.05.2025
- [x] 4.1.1. –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- [x] 4.1.2. –≠–Ω–¥–ø–æ–∏–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ –æ–¥–Ω–æ–≥–æ —á–∞–Ω–∫–∞: `POST /api/v1/chunk/metrics/semantic-single`
  - Input: chunk_id, chunk_text, full_text, topic
  - Output: chunk_id + semantic_function
- [x] 4.1.3. –≠–Ω–¥–ø–æ–∏–Ω—Ç –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞: `POST /api/v1/chunks/metrics/semantic-batch`  
  - Input: chunks[], full_text, topic, max_parallel=1
  - Output: results[] —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞–Ω–∫–∞
- [x] 4.1.4. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è semantic_function.py –ø–æ–¥ –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑)
- [x] 4.1.5. –°–æ–∑–¥–∞–Ω–∏–µ backup —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- [x] 4.1.6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç–∏ (–Ω–∞—á–∞—Ç—å —Å 1 –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏)
- [x] 4.1.7. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 30.05.2025:**
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤ api/routes.py
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–æ–¥–µ–ª–∏ ChunkSemanticRequest, ChunkSemanticResponse –≤ api/models.py
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ Swagger UI - —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å OpenAI GPT-4o –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

#### –ü–æ–¥—ç—Ç–∞–ø 4.2: –ù–æ–≤—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ ‚úÖ –ó–ê–í–ï–†–®–ï–ù 30.05.2025
- [x] 4.2.1. –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–∏–≥–Ω–∞–ª–∞/—à—É–º–∞: `POST /api/v1/chunk/metrics/local`
  - Input: chunk_id, chunk_text, topic
  - Output: chunk_id + signal_strength, complexity, lix, smog
- [x] 4.2.2. –ü–∞–∫–µ—Ç–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç: `POST /api/v1/chunks/metrics/batch-local`
- [x] 4.2.3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ signal_strength.py –ø–æ–¥ —Ä–∞–±–æ—Ç—É —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —á–∞–Ω–∫–∞–º–∏
- [x] 4.2.4. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ readability.py –ø–æ–¥ —Ä–∞–±–æ—Ç—É —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —á–∞–Ω–∫–∞–º–∏
- [x] 4.2.5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –º–µ—Ç—Ä–∏–∫ –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —á–∞–Ω–∫–∞—Ö

**‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 30.05.2025:**
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ (signal_strength, complexity)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å EmbeddingService –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å–∏–≥–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ API - –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —á–∏—Å–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞–∫–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

#### –ü–æ–¥—ç—Ç–∞–ø 4.3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å frontend ‚úÖ –ó–ê–í–ï–†–®–ï–ù 30.05.2025
- [x] 4.3.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ frontend API –º–æ–¥—É–ª—è (api/index.ts)
- [x] 4.3.2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å documentStore.ts
- [x] 4.3.3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ processMetricsQueue –¥–ª—è –Ω–æ–≤—ã—Ö API
- [x] 4.3.4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞: frontend ‚Üí backend ‚Üí frontend
- [x] 4.3.5. **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º semantic_function** ‚≠ê
- [x] 4.3.6. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞** ‚≠ê
- [x] 4.3.7. **–£–ª—É—á—à–µ–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –¥–ª—è backspace, delete, enter** ‚≠ê
- [x] 4.3.8. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤ –∫–∞—Ä—Ç–æ—á–µ–∫ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ min/max –∑–Ω–∞—á–µ–Ω–∏–π** ‚≠ê
- [x] 4.3.9. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –ª–æ–≥–æ–≤ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏** ‚≠ê

**‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 30.05.2025:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ API —Ñ—É–Ω–∫—Ü–∏–∏ –≤ frontend/my-card-view-app/src/api/index.ts
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ documentStore.ts —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –≠–¢–ê–ü 1 (–ª–æ–∫–∞–ª—å–Ω—ã–π) –∏ –≠–¢–ê–ü 2 (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π)
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ê –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: API –≤–æ–∑–≤—Ä–∞—â–∞–ª `{chunk_id, metrics: {semantic_function}}`, –Ω–æ –∫–æ–¥ –æ–±—Ä–∞—â–∞–ª—Å—è –∫ `result.semantic_function` –≤–º–µ—Å—Ç–æ `result.metrics.semantic_function`
- ‚úÖ **–†–ê–ó–î–ï–õ–ï–ù–´ –ø—Ä–æ—Ü–µ—Å—Å—ã –∞–Ω–∞–ª–∏–∑–∞**: 
  - `shouldTriggerLocalAnalysis()` - —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–±—É–∫–≤—ã, backspace, delete, enter)
  - `shouldTriggerSemanticAnalysis()` - —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –º—ã—Å–ª–∏ (–ø—Ä–æ–±–µ–ª—ã, –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è)
- ‚úÖ **–£–õ–£–ß–®–ï–ù–ê —Å–∏—Å—Ç–µ–º–∞ —Ü–≤–µ—Ç–æ–≤**: –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è signal_strength –∏ complexity –∫ –¥–∏–∞–ø–∞–∑–æ–Ω—É 0-1 –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ min/max —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö —á–∞–Ω–∫–æ–≤
- ‚úÖ **–î–û–ë–ê–í–õ–ï–ù–´ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏**: –ø–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–µ–∫—Å—Ç–∞ —á–∞–Ω–∫–æ–≤ –≤ API –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö - –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**üéØ –†–ï–ó–£–õ–¨–¢–ê–¢ –≠–¢–ê–ü–ê 4:** Backend API –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å frontend. –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ (–ª–æ–∫–∞–ª—å–Ω—ã–µ –∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ) —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —á–∞–Ω–∫–∞–º–∏.

#### –ü–æ–¥—ç—Ç–∞–ø 4.4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –í–ù–ò–ú–ê–ù–ò–Ø
- [x] 4.4.1. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- [ ] 4.4.2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è smart invalidation –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞ —á–∞–Ω–∫–æ–≤
- [ ] 4.4.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ hash-—Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**üîç –û–ë–ù–ê–†–£–ñ–ï–ù–ê –ü–†–û–ë–õ–ï–ú–ê 30.05.2025:**
- ‚ö†Ô∏è EmbeddingService –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚ö†Ô∏è –ü—Ä–∏ —Ä—É—á–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —á–∞–Ω–∫–æ–≤ –∫—ç—à –Ω–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚ö†Ô∏è –ú–µ—Ç—Ä–∏–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –ø–µ—Ä–µ—Å—á–µ—Ç–µ (–∫–Ω–æ–ø–∫–∞ "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç")
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —á–∞–Ω–∫–æ–≤

### –ò–¢–û–ì–ò –†–ê–ë–û–¢–´ 30.05.2025 üéØ

#### ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–û:
1. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º semantic_function –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
2. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** - –ª–æ–∫–∞–ª—å–Ω—ã–π –∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏
3. **–£–ª—É—á—à–µ–Ω–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã** - —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (backspace, delete, enter, –ø–µ—á–∞—Ç—å)
4. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤** - –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–∫—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ min/max –∑–Ω–∞—á–µ–Ω–∏–π —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö —á–∞–Ω–∫–æ–≤
5. **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–µ–∫—Å—Ç–∞ –≤ API

#### ‚ö†Ô∏è –í–´–Ø–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:
1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ, –Ω–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞ —á–∞–Ω–∫–æ–≤
2. **–ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –ø–µ—Ä–µ—Å—á–µ—Ç–µ

#### üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤ EmbeddingService
2. –î–æ–±–∞–≤–∏—Ç—å smart invalidation –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞ —á–∞–Ω–∫–æ–≤  
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–†–∏—Å–∫**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π O(n) –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –±–∞—Ç—á–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –°–ª–æ–∂–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
- **–†–∏—Å–∫**: –ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –æ—à–∏–±–∫–∞–º
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ü–æ—ç—Ç–∞–ø–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- **–†–∏—Å–∫**: –†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –ø–∞–Ω–µ–ª—è–º–∏
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ï–¥–∏–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- –°—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –ø–∞–Ω–µ–ª–µ–π
- –ü—Ä–æ—Å—Ç—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- –í—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–ü–æ—ç—Ç–∞–ø–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∏—Å–∫–∏ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–¥–µ–ª—å–Ω–æ. 