# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–µ—Ö–æ–¥—É —Å REST API –Ω–∞ OpenAI Realtime API

## üìñ –®–∞–≥ 1: –û—Å–Ω–æ–≤—ã Realtime API

Realtime API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç WebSocket –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –Ω–∏–∑–∫–∏—Ö –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–∞—É–¥–∏–æ –∏ —Ç–µ–∫—Å—Ç).

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏
    
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
    
- –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å
    

## üîß –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å WebSocket:

### Python:

```
pip install websockets
```

### Node.js:

```
npm install ws
```

## üìå –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–∞ –º–æ–¥–µ–ª—å `gpt-4o-realtime-preview` –≤ –≤–∞—à–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ OpenAI.

## üöÄ –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WebSocket-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –Ω–∞ Python:

```
import asyncio
import websockets
import json

async def realtime_chat():
    uri = "wss://api.openai.com/v1/realtime"
    headers = {
        "Authorization": "Bearer –¢–í–û–ô_API_–ö–õ–Æ–ß"
    }

    async with websockets.connect(uri, extra_headers=headers) as websocket:
        start_session = {
            "type": "session.create",
            "model": "gpt-4o-realtime-preview",
            "instructions": "–û–ø—Ä–µ–¥–µ–ª–∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é —Ä–æ–ª—å —á–∞—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞.",
            "temperature": 0.5
        }

        await websocket.send(json.dumps(start_session))

        message = {
            "type": "message.create",
            "content": {
                "text": "–¢–µ–∫—Å—Ç –∏ –µ–≥–æ —á–∞—Å—Ç—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞."
            }
        }

        await websocket.send(json.dumps(message))

        async for response in websocket:
            data = json.loads(response)
            if data["type"] == "message.content":
                print("–û—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏:", data["content"]["text"])
            elif data["type"] == "error":
                print("–û—à–∏–±–∫–∞:", data["error"]["message"])

asyncio.run(realtime_chat())
```

## üîÑ –®–∞–≥ 5: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

–û–±–Ω–æ–≤–ª—è–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Å—Å–∏–∏ –Ω–∞ –ª–µ—Ç—É:

```
{
  "type": "session.update",
  "session": {
    "instructions": "–§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –∏–¥–µ–µ.",
    "temperature": 0.7
  }
}
```

## ‚ö†Ô∏è –®–∞–≥ 6: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```
elif data["type"] == "error":
    print("–û—à–∏–±–∫–∞:", data["error"]["message"])
```

## üìä –®–∞–≥ 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- –°—Ä–∞–≤–Ω–∏—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–æ –∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞.
    
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
    

## ‚úÖ –®–∞–≥ 8: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- –í–Ω–µ–¥—Ä–∏—Ç–µ –Ω–æ–≤—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.
    
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.